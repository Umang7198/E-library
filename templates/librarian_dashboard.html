<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <title> Librarian's Dashboard</title>
</head>
<body>
<div >

    <h1>Librarian's Dashboard</h1>
    <div>
        <a href="{{ url_for('monitor_books') }}">Monitor Books</a> |
        <a href="{{ url_for('logout') }}">Logout</a>
    </div>

    <!-- Search form for sections -->
    <form action="{{ url_for('librarian_dashboard') }}" method="GET" class='search'>
        <input type="text" placeholder="Search sections" aria-label="Search" name="query">
        <div>
            <a href="{{ url_for('add_section_form') }}" style="float:left" >Add New Section</a>

            <button  type="submit">Search</button>
        </div>
        
    </form>

    <!-- List of Sections -->
    {% for section in sections %}
    <div class="section">
        <h3>{{ section.title }}</h3>
        <p>Date Created: {{ section.date_created.strftime('%Y-%m-%d') }}</p>
        <p>Description: {{ section.description }}</p>
        <a href="{{ url_for('view_books', section_id=section.id) }}">View Books</a>  |

        <a href="{{ url_for('add_book', section_id=section.id) }}" >Add Book</a>
        <br>
        <br>

        <div class="section-actions"> <!-- New div to hold both forms for actions -->
            <form action="{{ url_for('edit_section_form', section_id=section.id) }}" method="GET" style="margin-right: 10px;">
                <button type="submit" class="btn-edit">Edit Section</button>
            </form>
            <form action="{{ url_for('delete_section', section_id=section.id) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this section?');">
                <button type="submit" class="btn-danger">Delete Section</button>
            </form>
        </div>

    </div>
    {% else %}
    <p>No sections added yet.</p>
    {% endfor %}

</div>
</body>
</html>
